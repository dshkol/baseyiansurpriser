% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggplot2-stat.R
\name{stat_surprise}
\alias{stat_surprise}
\title{Compute Surprise as ggplot2 Stat}
\usage{
stat_surprise(
  mapping = NULL,
  data = NULL,
  geom = "sf",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  models = c("uniform", "baserate", "funnel"),
  signed = TRUE,
  ...
)
}
\arguments{
\item{mapping}{Aesthetic mapping created by \code{\link[ggplot2:aes]{ggplot2::aes()}}.
Required aesthetics are \code{geometry} (from sf) and \code{observed}.
Optional aesthetics include \code{expected} and \code{sample_size}.}

\item{data}{Data (typically an sf object)}

\item{geom}{Geometry to use (default: "sf")}

\item{position}{Position adjustment}

\item{na.rm}{Remove NA values?}

\item{show.legend}{Show legend?}

\item{inherit.aes}{Inherit aesthetics from ggplot?}

\item{models}{Character vector of model types to use.
Options: "uniform", "baserate", "gaussian", "sampled", "funnel"}

\item{signed}{Logical; compute signed surprise?}

\item{...}{Additional arguments passed to the layer}
}
\value{
A ggplot2 layer
}
\description{
This stat computes Bayesian surprise for sf geometries, allowing you to
visualize surprise directly in ggplot2.
}
\section{Computed Variables}{

\describe{
\item{surprise}{Bayesian surprise (KL-divergence)}
\item{signed_surprise}{Signed surprise (if signed = TRUE)}
}
}

\examples{
library(ggplot2)
library(sf)

nc <- st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)

# Basic surprise map - geometry must be mapped explicitly
ggplot(nc) +
  stat_surprise(aes(geometry = geometry, observed = SID74, expected = BIR74)) +
  scale_fill_surprise()
}
